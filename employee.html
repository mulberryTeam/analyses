<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
  <title>ููุญุฉ ุงูููุธู - ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู</title>
  <!-- ุฑุงุจุท ุฎุทูุท Google -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
  <!-- ุฃููููุงุช Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
  <!-- ุฅุถุงูุฉ ููุชุจุฉ Firestore -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
  <style>


:root {
  --secondary-color: #3498db; /* ุฃู ุฃู ููู ุชุฑูุฏู ูุฅุทุงุฑ ุงูุจุทุงูุฉ */
}



    /* ุฎูููุฉ ุงูููุฏูู */
    #bgVideo {
      position: fixed;
      right: 0;
      bottom: 0;
      min-width: 100%;
      min-height: 100%;
      z-index: -1;
      object-fit: cover;
    }
    /* ููุงุนุฏ ุนุงูุฉ */
    body {
      font-family: 'Roboto', sans-serif;
      background: transparent;
      margin: 0;
      padding: 20px;
      transition: background 0.3s ease;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    .header-left {
      display: flex;
      align-items: center;
    }
    .header-logo {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      margin-left: 10px;
    }
    .logout-btn {
      padding: 8px 16px;
      background: #e74c3c;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .logout-btn:hover { 
      background: #c0392b;
      transform: scale(1.05);
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255,255,255,0.95);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
    }
    /* ูุงุฆูุฉ ุงูุฃูุณูุฉ */
    .tab-nav {
      display: flex;
      border-bottom: 2px solid #ddd;
      margin-bottom: 20px;
      overflow-x: auto;
    }
    .tab-nav button {
      flex: 1;
      padding: 12px;
      background: none;
      border: none;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease, color 0.3s ease;
    }
    .tab-nav button:hover { background: #f0f0f0; }
    .tab-nav button.active {
      border-bottom: 3px solid #3498db;
      font-weight: bold;
    }
    
    /* ูุงุฌูุฉ ุงูุชุญูููุงุช - ููุชุฑ ุงููุจูุนุงุช */
    .filter-section {
      margin-bottom: 20px;
      padding: 20px;
      background: #f0f4f8;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: box-shadow 0.3s ease;
    }
    .filter-section:hover {
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
    }
    .filter-section label {
      margin-right: 10px;
      font-weight: 500;
    }
    .filter-section input {
      margin-right: 10px;
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
      transition: border 0.3s ease;
    }
    .filter-section input:focus {
      border-color: #3498db;
      outline: none;
    }
    .filter-section button {
      padding: 8px 16px;
      background: #3498db;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.3s ease;
    }
    .filter-section button:hover { 
      background: #2980b9;
      transform: scale(1.03);
    }
    /* ุจุทุงูุฉ ุงููุจูุนุงุช */
    .sales-card {
      background: #f7f9fc;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      overflow-x: auto;
      transition: box-shadow 0.3s ease;
    }
    .sales-card:hover {
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
    }
    .sales-card table {
      width: 100%;
      border-collapse: collapse;
    }
    .sales-card th, .sales-card td {
      padding: 12px;
      border-bottom: 1px solid #ddd;
      text-align: center;
    }
    .sales-card th { 
      background: #3498db; 
      color: #fff;
      font-weight: bold;
    }
    .sales-summary {
      margin-top: 15px;
      font-size: 16px;
      font-weight: bold;
    }
    /* ูุงุฌูุฉ ุงูุฅุนุฏุงุฏุงุช */
    .account-settings {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: box-shadow 0.3s ease;
    }
    .account-settings:hover {
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
    }
    .account-settings h3 { margin-top: 0; }
    .account-settings label { display: block; margin-top: 10px; font-weight: 500; }
    .account-settings input[type="text"],
    .account-settings input[type="password"],
    .account-settings input[type="file"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      transition: border 0.3s ease;
    }
    .account-settings input:focus {
      border-color: #3498db;
      outline: none;
    }
    .account-settings button {
      margin-top: 15px;
      padding: 10px 20px;
      background: #3498db;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.3s ease;
    }
    .account-settings button:hover { 
      background: #2980b9;
      transform: scale(1.03);
    }
    /* ุงุณุชุฌุงุจุฉ ูุฌููุน ุงูุฃุฌูุฒุฉ */
    @media (max-width: 768px) {
      .container { padding: 20px; }
      .header { flex-direction: column; align-items: flex-start; }
      .logout-btn { width: 100%; text-align: center; }
      .tab-nav button { font-size: 14px; }
    }

.workplan-instructions p {
  font-weight: bold;
  font-family: 'Roboto', sans-serif;
  font-size: 16px;
  margin-bottom: 15px;
}


/* ุฅุฒุงูุฉ ููุงุท ุงููุงุฆูุฉ ูุญุฐู ุงููุณุงูุงุช ุงูุงูุชุฑุงุถูุฉ */
#productList {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* ุตูุฏูู ุงููุฆุฉ ุงูููููุฉ */
#productList li {
  display: inline-block;
  padding: 10px 20px;
  margin-top: 10px;
  border: 2px solid #8e44ad;       /* ุฅุทุงุฑ ุจููุณุฌู */
  border-radius: 8px;
  background-color: #f8e5fa;        /* ุฎูููุฉ ูุงุชุญุฉ ุจููุณุฌูุฉ ุฎูููุฉ */
  font-weight: bold;
  font-size: 18px;
  color: #8e44ad;                   /* ูุต ุจููุณุฌู */
}


/* 1. ูุฎูู ุงููุฑุจุน ุซุงุจุช ุฃุณูู ุงูุดุงุดุฉ */
.motivational-container {
  background-color: #f8e5fa;
  border: 2px solid #8e44ad;
  border-radius: 8px;
  padding: 15px;
  margin-top: 0px;        /* ูุณุงูุฉ ุจููู ูุจูู ุงุณู ุงููุฆุฉ */
  margin-bottom: 0px;     /* ูุณุงูุฉ ูู ุฃุณูู ุงูุจุทุงูุฉ */
}





/* 3. ุดูู ุงููุต ุฏุงุฎู ุงููุฑุจุน */
.motivational-header {
  display: flex;
  align-items: center;
  font-weight: bold;
  font-size: 20px;
  margin-bottom: 10px;
}

.motivational-header .emoji {
  margin-left: 8px;
}

.motivational-text p {
  font-weight: bold;
  margin: 5px 0;
}





/* 3) ุฒูุงุฏุฉ ุงููุณุงูุฉ ุจูู ุงุณู ุงููุฆุฉ ูุงููุฑุจุน */
#productList {
  list-style: none;
  padding: 0;
  margin: 0;
  margin-bottom: 100px; /* โฌ๏ธ ุงููุณุงูุฉ ุจูู ุงููุฆุฉ ูุงููุฑุจุน ุงูุชุญููุฒู */
}


/* ุชูุณููุงุช ูุณู ูุตุงุฆุญ ุงูุณุชุฌุฑุงููุฉ */
.instagram-tips-section {
  padding: 20px;
  background: #fafafa;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  margin-bottom: 20px;
}
.instagram-tips-section h3 {
  margin-top: 0;
  color: #C13584; /* ููู ูุดุจู ุดุนุงุฑ ุงูุณุชุฌุฑุงู */
}
.instagram-tips-section ul {
  list-style: disc inside;
  padding-left: 0;
}





/* ุจุทุงูุงุช ุงูุทูุจูุงุช */
.order-cards {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  margin-bottom: 30px;
}
.order-card {
  background: #fff;
  border: 2px solid var(--secondary-color);
  border-radius: 8px;
  padding: 15px;
  width: 280px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  position: relative;
}
.order-card h3 {
  margin: 0 0 10px;
  font-size: 18px;
}
.order-card p {
  margin: 6px 0;
}
.order-card .status {
  font-weight: bold;
  display: flex;
  align-items: center;
  margin-top: 10px;
}
.order-card .status .emoji {
  margin-left: 6px;
}







  </style>
</head>
<body>
  <!-- ุฎูููุฉ ุงูููุฏูู -->
  <video autoplay muted loop id="bgVideo">
    <source src="https://cdn.dribbble.com/userupload/28774288/file/large-0f5d92145d706df70e061ebbf838fa27.mp4" type="video/mp4">
    ูุชุตูุญู ูุง ูุฏุนู ุชุดุบูู ุงูููุฏูู.
  </video>
  
  <div class="header">
    <div class="header-left">
      <img class="header-logo" id="employeePhotoDisplay"
     src="https://cdn-icons-png.flaticon.com/512/8053/8053444.png"
     alt="ุตูุฑุฉ ุงูููุธู">

      <h1 id="employeeNameDisplay">ููุญุฉ ุงูููุธู</h1>
    </div>
    <button class="logout-btn" onclick="logout()">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
  </div>
  <div class="container">
    <!-- ูุงุฆูุฉ ุงูุฃูุณูุฉ ูุน ุฒุฑ ุงูุชุฑุฌูุฉ -->
    <div class="tab-nav">
      <button id="tabAnalyticsBtn" class="active" onclick="showEmployeeTab('analytics', event)">ุชุญูููุงุช</button>
   <button id="tabWorkPlanBtn" onclick="showEmployeeTab('workplan', event)">ุฎุทุฉ ุงูุนูู</button>
<button id="tabInstagramTipsBtn" onclick="showEmployeeTab('instagramTips', event)">ูุตุงุฆุญ ุงูุณุชุฌุฑุงููุฉ</button>
<button id="tabOrdersBtn" onclick="showEmployeeTab('orders', event)">ุงูุทูุจูุงุช</button>



      
    </div>
    
    <!-- ูุงุฌูุฉ ุงูุชุญูููุงุช -->
    <div id="analytics" class="employee-tab" style="display: block;">
      <div class="filter-section">
        <span id="filterLabel">ุชุตููุฉ ุงููุจูุนุงุช ุญุณุจ:</span>
        <label id="radioDayLabel">
          <input type="radio" name="filterType" value="day" checked onclick="toggleFilterInputs('day')"> ููู
        </label>
        <label id="radioMonthLabel">
          <input type="radio" name="filterType" value="month" onclick="toggleFilterInputs('month')"> ุดูุฑ
        </label>
        <label id="radioPeriodLabel">
          <input type="radio" name="filterType" value="period" onclick="toggleFilterInputs('period')"> ูุชุฑุฉ ูุฎุตุตุฉ
        </label>
        <div id="filterDay" style="margin-top:10px;">
          <input type="date" id="filterDayInput">
        </div>
        <div id="filterMonth" style="margin-top:10px; display:none;">
          <input type="month" id="filterMonthInput">
        </div>
        <div id="filterPeriod" style="margin-top:10px; display:none;">
          <label>ูู:</label>
          <input type="date" id="filterStartDate">
          <label>ุฅูู:</label>
          <input type="date" id="filterEndDate">
        </div>
        <button onclick="loadSalesData()">ุชุทุจูู ุงูุชุตููุฉ</button>
      </div>
      <h2 id="salesHeader">ุจูุงูุงุช ุงููุจูุนุงุช ูุงูุฃุฑุจุงุญ ุงูุฎุงุตุฉ ุจู</h2>
<h3 id="employeeTargetDisplay" style="color:#27ae60; margin-bottom: 15px;"></h3>

      <div id="salesData" class="sales-card">
        <!-- ูุชู ุชุญููู ุฌุฏูู ุงููุจูุนุงุช ููุง -->
      </div>
      <div class="sales-summary" id="salesSummary"></div>
    </div>
    
 <!-- ูุงุฌูุฉ ุฎุทุฉ ุงูุนูู -->
 <div id="workplan" class="employee-tab" style="display: none;">
   <div class="workplan-section">
     <h3>ุฎุทุฉ ุงูุนูู ุงูููููุฉ</h3>

     <div id="genderPrompt">
       <p>ูู ุฃูุช ุฐูุฑ ุฃู ุฃูุซูุ</p>
       <button onclick="setGender('male')">ุฐูุฑ</button>
       <button onclick="setGender('female')">ุฃูุซู</button>
     </div>
 <div id="planContent" style="display: none;">



  <div id="planInstructions" class="workplan-instructions">
    <p><strong>ุดุฑุญ ุชูุณูู ุงูููุช:</strong> ุงุฎุชุฑ ููููุง ูู ุงูุฃุณุจูุน ุฃู ุณุงุนุฉ ูู ุงูููู ูุชุญุถูุฑ ุงููุญุชูู ูููุดุฑุ ููุฒูุน ููุชู ุจุญูุซ ุชุฎุตุต ูู ููู/ุณุงุนุฉ ููุฆุฉ ููุชุฌ ูุฎุชููุฉ.</p>
  </div>
  <h4>ุงููุฆุฉ ุงูููุตู ุจูุง ููุฐุง ุงูููู:</h4>
  <ul id="productList"></ul>

<!-- ุจุฏุงูุฉ ุงููุฑุจุน ุงูุชุญููุฒู -->
<div class="motivational-container">
  <p class="motivational-header">
    <strong>ูู ุงูููุจ ููููุจ</strong>
    <span class="emoji">โค๏ธ</span>
  </p>
  <div class="motivational-text">
    <p><strong>ูุงูุฏุฑุจ ูุง ุจูุทูุจ ุฌุฑูุ ุจูุทูุจ ุงุณุชูุฑุงุฑ</strong></p>
    <p><strong>โุดููุฉ ุดููุฉโ ุชูุดู ุฎุทูุฉ ุจุฎุทูุฉุ ูุจุงูุฑุงุญุฉ ุชูุณุจ ุงูุฎุจุฑุฉ.</strong></p>
    <p><strong>ูู ููู ุฎุฐ ููุฑุฉ ุตุบูุฑุฉุ ุฌุฑูุจูุง ูุงูุดุฑูุงุ ูุจูุฑุฉ ุถุจูุท ุฃููุงุฑ ุฌุฏูุฏุฉ.</strong></p>
    <p><strong>ุญุชู ูู ููุนุชุ ููู ูุถุญู: โูุทุฑุฉ ูุทุฑุฉ ุจุชุญู ุงูุตุฎุฑโ.</strong></p>
    <p><strong>ุงูููู ุชุธู ุชุจุนุซุฑ ุทุงูุฉ ูุฅุตุฑุงุฑุ ูุงูุตุจุฑ ูุฑุฉ ููุญุธุชู ุญููุฉ.</strong></p>
    <p><strong>ุงูุดู ููู ูุฑุง ูููุ ูุจุงุจุชุณุงูุฉ ุฎูููุฉุ ุฑุญ ุชูุญู ูุฌุงุญ ูุจูุฑ!</strong></p>
  </div>
</div>
<!-- ููุงูุฉ ุงููุฑุจุน ุงูุชุญููุฒู -->

</div>

   </div>
 </div>
<!-- ุจุฏุงูุฉ ูุณู ูุตุงุฆุญ ุงูุณุชุฌุฑุงููุฉ -->
<div id="instagramTips" class="employee-tab" style="display: none;">
  <div class="instagram-tips-section">
    <h3>ูุตุงุฆุญ ุงูุณุชุฌุฑุงููุฉ</h3>
    <ul id="instagramTipsList">
      
  <li>
    <strong>ููู ุชุนูู ุฎูุงุฑุฒููุฉ ุฅูุณุชุฌุฑุงู</strong>
    <ul>
      <li>ุงูุฃููููุฉ ูููุญุชูู ุงููุฑูุจ ูู ุงููุณุชุฎุฏููู</li>
      <li>ูู ูุง ูุชูุงุนู ุงูุฌูููุฑ ูุน ููุดูุฑุงุชู (ุฅุนุฌุงุจุ ุชุนูููุ ุญูุธุ ูุดุงุฑูุฉ) ุฃุณุฑุนุ ุฎูุงุฑุฒููุฉ ุฅูุณุชุง ุชุทูุน ูุญุชูุงู ููุงุณ ุฃูุซุฑ.</li>
      <li>ุงูุชูููุช ููู: ุฃูู ุณุงุนุฉ ุจุนุฏ ุงููุดุฑ ุชุญุฏุฏ ูุฏู ุงูุชุดุงุฑู.</li>
    </ul>
  </li>
  <li>
    <strong>ุชูููุน ุงูุณููู</strong>
    <ul>
      <li>ุฅูุณุชุง ุชุญุงูู ุชุนุฑู ุฃู ููุน ูุญุชูู ูุนุฌุจ ูุชุงุจุนููู: ุฅุฐุง ุชูุงุนููุง ุฃูุซุฑ ูุน ุงูุฑููุฒุ ุจุชุฒูุฏ ุฃููููุฉ ุงูุฑููุฒ.</li>
    </ul>
  </li>
  <li>
    <strong>ุงูุงุณุชูุฑุงุฑูุฉ ูุนูุงุฑ ุฑุฆูุณู</strong>
    <ul>
      <li>ุญุณุงุจ ูุดุท ุจูุดุฑ ุจุงูุชุธุงู (ููููููุง ุฃู ูู ููููู) ุจููุณุจ ุซูุฉ ุงูุฎูุงุฑุฒููุฉ.</li>
    </ul>
  </li>
</ul>

      <!-- ููุงุนูุฏ ุงููุดุฑ ุงูููุงุณุจุฉ -->
    <h4>ููุงุนูุฏ ุงููุดุฑ ุงูููุงุณุจุฉ:</h4>
    <table class="instagram-tips-table" style="width:100%; border-collapse: collapse; margin-bottom: 15px;">
      <thead>
        <tr>
          <th style="border: 1px solid #ddd; padding: 8px; background: #f0f0f0;">ููุน ุงููุญุชูู</th>
          <th style="border: 1px solid #ddd; padding: 8px; background: #f0f0f0;">ุฃูุณุจ ุงูููุช ุจูุดุฑู</th>
          <th style="border: 1px solid #ddd; padding: 8px; background: #f0f0f0;">ููุงุญุธุงุช</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="border: 1px solid #ddd; padding: 8px;">ุฑููุฒ Reels</td>
          <td style="border: 1px solid #ddd; padding: 8px;">ูกูโูกูข ุธูุฑูุง &amp; ูงโูฉ ูุณุงุกู</td>
          <td style="border: 1px solid #ddd; padding: 8px;">ุฌูููุฑ ูุชุตูุญ ููุชุฑููู ูุจู ุงูุบุฏุงุก ูุจุนุฏ ุงูุดุบู/ุงูุฏุฑุงุณุฉ</td>
        </tr>
        <tr>
          <td style="border: 1px solid #ddd; padding: 8px;">ุงูููุดูุฑุงุช Posts</td>
          <td style="border: 1px solid #ddd; padding: 8px;">ูจโูกู ุตุจุงุญูุง &amp; ูฅโูง ูุณุงุกู</td>
          <td style="border: 1px solid #ddd; padding: 8px;">ูุญุธุงุช ุงูุชุตูุญ ุงูุตุจุงุญูุฉ ูุงููุณุงุฆูุฉ</td>
        </tr>
        <tr>
          <td style="border: 1px solid #ddd; padding: 8px;">ุงููุตุต Stories</td>
          <td style="border: 1px solid #ddd; padding: 8px;">ุทูุงู ุงูููู (ุชุฑููุฒ ุจูู ูกูขโูฃ ุนุตุฑูุง)</td>
          <td style="border: 1px solid #ddd; padding: 8px;">ุญุงูุธ ุนูู ุธููุฑ ูุณุชูุฑู ุจูู ูุชุงุจุนููู</td>
        </tr>
      </tbody>
    </table>

    <!-- ูุตูุญุฉ ุงุญุชุฑุงููุฉ -->
    <p style="font-weight: bold; font-size: 16px; line-height: 1.4; margin-top: 10px;">
      ูุตูุญุฉ ุงุญุชุฑุงููุฉ: ุฌุฑูุจ ุชุชุงุจุน ุชุญูููุงุช ุญุณุงุจู (Insights) ูุชุถุจุท ุงูุฃููุงุช ุญุณุจ ุฌูููุฑู ุจุงูุถุจุทุ ููู ุญุณุงุจ ุฅููุงุนู ุงูุฎุงุต.
    </p>
    <!-- ุฃุณููุจ ุงูุชูุฏูู ุงูููุจู -->
    <h4 style="font-weight: bold; margin-top: 20px;">ุฃุณููุจ ุงูุชูุฏูู ุงูููุจู:</h4>
    <ul style="margin-top: 10px; line-height: 1.6;">
      <li><strong>ุงุณุชุฎุฏู ุตูุฑู ุงูุดุฎุตูุฉ</strong></li>
      <li>ููุนุฏุฉ ุจุงููููุฉุ ุฃู ูู ุงูุฌุงูุนุฉุ ุฃู ูุงุดู ูู ุงูุดุงุฑุนโฆ</li>
      <li>ุถุน ุตูุฑุฉ ุงูููุชุฌ ุจุดูู ุฃููู ููู ุฎูููุชู ุงูุทุจูุนูุฉุ ูุซูุงู ููุตู ุตุบูุฑ (sticker) ุฃู ูุฑูู ุจุณูุท.</li>
      <li><strong>ุงุญูู ูุตุฉ ูุตูุฑุฉ ูุดุงุฑููุง ูุน ูุชุงุจุนููู ูู ุญูุงุชู</strong></li>
      <li>ูุบุฉ ุจุณูุทุฉุ ุตูุชู ุงูุญููููุ ููุฃูู ุนู ุชุญูู ูุตุงุญุจู.</li>
      <li><strong>ุฎูู ุงููุญุชูู ุฅูุณุงูู</strong></li>
      <li>ุฅุถุญู ูุงุจุชุณูุ ุงุดุชุบู ุจููุทุงุช candid (ุบูุฑ ูุตุทูุนุฉ)ุ ุชูุงุนู ูุน ูุชุงุจุนููู ุจุงูู stickers ูุงูู polls.</li>
    </ul>

    <!-- ุงุฎุชุตุงุฑ ุงูููุฑุฉ ูุฌุงุฐุจูุชูุง -->
    <h4 style="font-weight: bold; margin-top: 20px;">ุงุฎุชุตุงุฑ ุงูููุฑุฉ ูุฌุงุฐุจูุชูุง:</h4>
    <ul style="margin-top: 10px; line-height: 1.6;">
      <li><strong>ุดุฑุญ ุดูุฑุช ูููุฑู</strong></li>
      <li>ูุง ุชุฒูุฏ ุนู ูฃ ุฌูู ูู ุงูุชุนููู: โุงููุฑุทุจ ูุฐุง ุฎููู ุฌุฏูุง ุนูู ุงูุจุดุฑุฉุ ุจูุงุฎุฏ ููู ุทุจูุนู ูุจูุญุงูุธ ุนูู ุงูุชุฑุทูุจ.โ</li>
      <li>ุงุณุชุฎุฏู emojis ูุชูุณูู ุงููุต (๐ฟโจ๐ง).</li>
      <li>ุณุชููุฑุงุช ุชูุงุนู ูุฃุณุฆูุฉ ูุณุชููุฑ ุงูุฎูุงุฑุงุช</li>
      <li>ูุซูุงู: โููู ุฌุฑุจ ุนุทุฑ ูููุณุง ุจุฏูู ุจุฑุงุฏุงุ ุฎุจุฑููู!โ</li>
      <li>โุงุญูุธูุง ุงูุตูุฑุฉ ุนุดุงู ุชุฑุฌุนูุง ููุง ููุช ุงูุญุงุฌุฉ.โ</li>
    </ul>

    <!-- ููู ุชุฒูุฏ ุงูุชูุงุนู ูุงููุตูู -->
    <h4 style="font-weight: bold; margin-top: 20px;">ููู ุชุฒูุฏ ุงูุชูุงุนู ูุงููุตูู:</h4>
    <ul style="margin-top: 10px; line-height: 1.6;">
      <li><strong>ุงุณุชุบูู ุงูู Hashtags ุจุฐูุงุก</strong></li>
      <li>ูฅโูง ูุงุดุชุงุบุงุช ูุชุฎุตุตุฉ (ูุซูุงู #ุฌูุงู_ุทุจูุนู #mulberry #aaup #SkinCare)</li>
      <li>ููู ุงูู niche ููู ุจุชูุดุฑ ููู ูุงุณุชุฎุฏู ูุงุดุชุงุบุงุช ูุชุฏุงููุฉ ุนูุฏ ุฌูููุฑู.</li>
      <li><strong>ุงูุดุฑ ุนูู ุงูุณุชูุฑู ุจูุซุฑุฉ</strong></li>
      <li>ูุตุต ุชูุงุนููุฉ (ุงุณุชุจูุงูุ ุณุคุงูุ ุดุฑูุท ุชูุฑูุฑ).</li>
      <li>ุฑุงุจุท ูุจุงุดุฑ ููููุชุฌ (Swipe Up ุฃู Sticker ุงูุฑุงุจุท).</li>
      <li><strong>ุชุนุงูู ูุน ุญุณุงุจุงุช ุตุบูุฑุฉ (Micro-influencers)</strong></li>
      <li>ุชุจุงุฏู โุชุงุฌโ ุฃู โShoutoutโ ูุฒูุงุฏุฉ ุงูุธููุฑ.</li>
      <li><strong>ุชุงุจุน ูุชูุงุนู ูุน ุฌูููุฑู</strong></li>
      <li>ุฅุฑูุน ุฅุดุนุงุฑุงุช ุชุนูููุงุชู ูุฑุฏ ุนูููุง ุฎูุงู ุณุงุนุฉ.</li>
      <li>ุฎููู ูุชุงุจุน ูุจูุณุชุงุชูู ูุญุท ูุงูู ูุชุนููู ุญุชู ูุฑุฏูุง ูู ุงูุฌููู.</li>
      <li><strong>ุนูุฏ ูุดุฑ ุงููุญุชูู ุจุญุงูุฉ ุฌุฏูุฏุฉ</strong></li>
      <li>ุฎุฐ ููุณ ุงูููุฏูู ุฑููุฒ ููุทูุน ููู ููุทุน ุณุชูุฑูุ ุฃู ุงูุณุฎ ุฃูู ุฌูู ุงูุฅุนูุงู ูู ุจูุณุช ุซุงุจุช.</li>
    </ul>

    <!-- ุฃูู ุดูุก ุชูุชูุฑูู -->
    <p style="font-weight: bold; font-size: 18px; margin-top: 20px; line-height: 1.5;">
      ๐ฅ ุฃูู ุดูุก ุชูุชูุฑูู:<br>
      โุงููุญุชูู ุงููุฑูุจ ูู ููุจ ุงููุดุงูุฏ + ุงูุดุฑุญ ุงููุตูุฑ ูุงููุงุถุญ = ุชูุงุนู ุฃุนูู ูุงูุชุดุงุฑ ุฃุณุฑุน.โ<br>
      ุงูุดู ุนูู ูุงููุตุงูุญุ ูุฌุฑุจ ูู ุนูุตุฑ ุจุฎูุฉ ูุฑูุญ ูุฑุญุฉุ ููุน ุงูุงุณุชูุฑุงุฑูุฉ ุฑุญ ุชูุงูู ุญุณุงุจู ุนู ููุจุฑ ูุงูุช ุนู ุชุณุชูุชุน ุจุงูุชุฌุฑุจุฉ!
    </p>

  </div>
</div>
<!-- ููุงูุฉ ูุณู ูุตุงุฆุญ ุงูุณุชุฌุฑุงููุฉ -->


    




<!-- Orders Tab -->
<div id="orders" class="employee-tab" style="display: none;">
  <h2 style="margin-bottom:15px;">ุงูุทูุจูุงุช ุงูุฎุงุตุฉ ุจู</h2>
  <div id="ordersContainer" class="order-cards"></div>
</div>







  </div>
  
  <script>
    // ุฅุนุฏุงุฏุงุช Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyAi3_y7ugKB0cgzMV1-IVvbE2BwG_9RKSs",
      authDomain: "team-analysis-3c196.firebaseapp.com",
      databaseURL: "https://team-analysis-3c196-default-rtdb.firebaseio.com",
      projectId: "team-analysis-3c196",
      storageBucket: "team-analysis-3c196.firebasestorage.app",
      messagingSenderId: "38968485922",
      appId: "1:38968485922:web:667832a4aa77599ba8a6fb",
      measurementId: "G-853WkH2JK7"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    // ุชููุฆุฉ Firestore
    const firestore = firebase.firestore();

    // ุฅุนุฏุงุฏ ุงูุชุฑุฌูุฉ
    let currentLanguage = 'ar';
    const translations = {
      ar: {
        employeeDashboard: "ููุญุฉ ุงูููุธู",
        welcome: "ุฃููุงู, ",
        logout: "ุชุณุฌูู ุงูุฎุฑูุฌ",
        tabAnalytics: "ุชุญูููุงุช",
        tabSettings: "ุงูุฅุนุฏุงุฏุงุช",
        filterLabel: "ุชุตููุฉ ุงููุจูุนุงุช ุญุณุจ:",
        radioDay: "ููู",
        radioMonth: "ุดูุฑ",
        radioPeriod: "ูุชุฑุฉ ูุฎุตุตุฉ",
        salesHeader: "ุจูุงูุงุช ุงููุจูุนุงุช ูุงูุฃุฑุจุงุญ ุงูุฎุงุตุฉ ุจู",
        tableHeaders: {
          product: "ุงูููุชุฌ",
          sale: "ุณุนุฑ ุงูุจูุน (โช)",
          date: "ุงูุชุงุฑูุฎ"
        },
        salesSummary: (totalSales, totalProfit) => `ุฅุฌูุงูู ุงููุจูุนุงุช: ${totalSales} | ุฅุฌูุงูู ุงูุฃุฑุจุงุญ: โช${totalProfit}`,
        settingsHeader: "ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ",
        changeUsername: "ุชุบููุฑ ุงุณู ุงููุณุชุฎุฏู:",
        changePassword: "ุชุบููุฑ ูููุฉ ุงููุฑูุฑ:",
        changePhoto: "ุชุบููุฑ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ:",
        updateSettings: "ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช",
        langToggle: "",
        chatInputPlaceholder: "ุงูุชุจ ุฑุณุงูุชู..."
      },
      en: {
        employeeDashboard: "Employee Dashboard",
        welcome: "Welcome, ",
        logout: "Logout",
        tabAnalytics: "Analytics",
        tabSettings: "Settings",
        filterLabel: "Filter Sales By:",
        radioDay: "Day",
        radioMonth: "Month",
        radioPeriod: "Custom Period",
        salesHeader: "Your Sales & Profit Data",
        tableHeaders: {
          product: "Product",
          sale: "Sale Price (โช)",
          date: "Date"
        },
        salesSummary: (totalSales, totalProfit) => `Total Sales: ${totalSales} | Total Profit: โช${totalProfit}`,
        settingsHeader: "Account Settings",
        changeUsername: "Change Username:",
        changePassword: "Change Password:",
        changePhoto: "Change Personal Photo:",
        updateSettings: "Update Settings",
        langToggle: "",
        chatInputPlaceholder: "Type your message..."
      }
    };

    // ุงุณุชุฑุฌุงุน ุงุณู ุงูููุธู ุงููุฎุฒู ูู localStorage
    let employeeName = localStorage.getItem('employeeName');

    if (!employeeName) {
      alert("ูู ูุชู ุงูุนุซูุฑ ุนูู ุฌูุณุฉ ุงูููุธู. ุงูุฑุฌุงุก ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู.");
      window.location.href = "index.html";
    }
    document.getElementById('employeeNameDisplay').textContent = translations[currentLanguage].welcome + employeeName;
database.ref('employees').orderByChild('name').equalTo(employeeName).once('value')
  .then(snapshot => {
    snapshot.forEach(child => {
      const data = child.val();
      const points = data.target || 0;
      document.getElementById('employeeTargetDisplay').textContent = `ุนุฏุฏ ุงูููุงุท ุงูุญุงููุฉ: ${points} ููุทุฉ`;
    });
  });


    

    // ุงุณุชุฑุฌุงุน ุชุนูููุงุช ุงูุจุงุฆุน ุงููููุฒ
    let topSellerDesignations = {};
    database.ref('topSellerDesignations').on('value', snapshot => {
      topSellerDesignations = snapshot.val() || {};
    });

    // ุฏุงูุฉ ุงููุณุงุนุฏุฉ ููุญุตูู ุนูู ูุณุจุฉ ุงูุจุงุฆุน ุงููููุฒ
    function getTopSellerRate(empName, saleDate) {
      let rate = 0.5; // ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ููููุธู ุงูุนุงุฏู
      for (const key in topSellerDesignations) {
        const des = topSellerDesignations[key];
        if (des.employee === empName) {
          const start = new Date(des.startDate);
          const end = new Date(des.endDate);
          const saleDt = new Date(saleDate);
          if (saleDt >= start && saleDt <= end) {
            rate = 0.6;
            break;
          }
        }
      }
      return rate;
    }

    // ุชุญููู ุจูุงูุงุช ุงููุจูุนุงุช ูุน ุญุณุงุจ ุงูุฃุฑุจุงุญ (ุชู ุญุฐู ุนููุฏ ุงูุณุนุฑ ุงูุฃุตูู)
    function loadSalesData() {
      // ุงูุญุตูู ุฃููุงู ุนูู ููุน ุงูููุธู ูู Realtime Database
      database.ref('employees').orderByChild('name').equalTo(employeeName).once('value')
      .then(empSnapshot => {
        let employeeType = "regular";
        empSnapshot.forEach(child => { employeeType = child.val().type; });
        // ุฌูุจ ุจูุงูุงุช ุงููุจูุนุงุช ุงูุฎุงุตุฉ ุจุงูููุธู
        database.ref('sales').orderByChild('seller').equalTo(employeeName).once('value')
        .then(snapshot => {
          const salesData = snapshot.val() || {};
          let totalSales = 0;
          let totalProfit = 0;
          // ุฅูุดุงุก ุงูุฌุฏูู ุจุฏูู ุนููุฏ ุงูุณุนุฑ ุงูุฃุตูู
          let tableHTML = `<table><tr>
            <th>${translations[currentLanguage].tableHeaders.product}</th>
            <th>${translations[currentLanguage].tableHeaders.sale}</th>
            <th>${translations[currentLanguage].tableHeaders.date}</th>
            </tr>`;
          const filterType = document.querySelector('input[name="filterType"]:checked').value;
let filterFn = sale => true;

// โ ููุชุฑุฉ ุงูุชุฑุงุถูุฉ: ุนุฑุถ ุงูุดูุฑ ุงูุญุงูู ุฅุฐุง ูุง ุชู ุงุฎุชูุงุฑ ุฃู ุชูุงุฑูุฎ
if (!document.getElementById('filterDayInput').value &&
    !document.getElementById('filterMonthInput').value &&
    !document.getElementById('filterStartDate').value &&
    !document.getElementById('filterEndDate').value) {
  const today = new Date();
  const year = today.getFullYear();
  const month = (today.getMonth() + 1).toString().padStart(2, '0');
  const currentMonth = `${year}-${month}`;
  filterFn = sale => sale.date.startsWith(currentMonth);
}


          if (filterType === "day") {
            const day = document.getElementById('filterDayInput').value;
            if (day) { filterFn = sale => sale.date.slice(0,10) === day; }
          } else if (filterType === "month") {
            const month = document.getElementById('filterMonthInput').value;
            if (month) { filterFn = sale => sale.date.startsWith(month); }
          } else if (filterType === "period") {
            const start = new Date(document.getElementById('filterStartDate').value);
            const end = new Date(document.getElementById('filterEndDate').value);
            if(document.getElementById('filterStartDate').value && document.getElementById('filterEndDate').value) {
              filterFn = sale => {
                const saleDate = new Date(sale.date);
                return saleDate >= start && saleDate <= end;
              };
            }
          }
          for (const key in salesData) {
            const sale = salesData[key];
            if (!filterFn(sale)) continue;
            totalSales++;
            const rawProfit = parseFloat(sale.salePrice) - parseFloat(sale.originalPrice);
            let percentage = 0.5; // ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
            if (employeeType === "distinguished") {
              percentage = 0.7;
            } else if (employeeType === "regular") {
              percentage = getTopSellerRate(employeeName, sale.date);
            }
            totalProfit += rawProfit * percentage;
            tableHTML += `<tr>
              <td>${sale.productName}</td>
              <td>โช${sale.salePrice}</td>
              <td>${new Date(sale.date).toLocaleDateString()}</td>
              </tr>`;
          }
          tableHTML += "</table>";
          document.getElementById('salesData').innerHTML = tableHTML;
          document.getElementById('salesSummary').innerHTML = `<p>${translations[currentLanguage].salesSummary(totalSales, totalProfit.toFixed(2))}</p>`;
        });
      });
    }
    loadSalesData();

    // ุชุจุฏูู ุนุฑุถ ูุฏุฎูุงุช ุงูููุชุฑุฉ
    function toggleFilterInputs(type) {
      document.getElementById('filterDay').style.display = (type === 'day') ? 'block' : 'none';
      document.getElementById('filterMonth').style.display = (type === 'month') ? 'block' : 'none';
      document.getElementById('filterPeriod').style.display = (type === 'period') ? 'block' : 'none';
    }

 

   



    /* ------------------ ุชุบููุฑ ุงูุฃูุณูุฉ ------------------ */
    function showEmployeeTab(tabName, event) {
      document.querySelectorAll('.employee-tab').forEach(tab => tab.style.display = 'none');
      document.querySelectorAll('.tab-nav button').forEach(btn => btn.classList.remove('active'));
      event.currentTarget.classList.add('active');
      document.getElementById(tabName).style.display = 'block';
if (tabName === 'orders') {
    loadOrders();
  }
    }

   


function loadOrders() {
  const container = document.getElementById('ordersContainer');

  database.ref('orders').on('value', snap => {
    const allOrders = snap.val() || {};const data = Object.entries(allOrders)
  .filter(([id, o]) =>
    o.employee &&
    o.employee.toLowerCase().trim() === employeeName.toLowerCase().trim()
  )
  .sort((a, b) => {
    const dateA = new Date(a[1].date);
    const dateB = new Date(b[1].date);
    return dateB - dateA; // ุงูุฃุญุฏุซ ุฃููุงู
  });


    container.innerHTML = '';
    const shownOrders = {};

    if (data.length === 0) {
      container.innerHTML = '<p>ูุง ุชูุฌุฏ ุทูุจูุงุช ุญุงููุงู.</p>';
      return;
    }

    data.forEach(([id, order]) => {
      if (shownOrders[id]) return;
      shownOrders[id] = true;

      let emoji = 'โณ';
      if (order.status === 'ููุฏ ุงูุชูุตูู') emoji = '๐';
      else if (order.status === 'ุชู ุงูุงุณุชูุงู') emoji = 'โ๏ธ';

      let productsHTML = '<ul style="padding-left:16px;margin:10px 0;">';
      if (Array.isArray(order.products)) {
        order.products.forEach(p => {
          productsHTML += `<li>${p.name} โ โช${parseFloat(p.price).toFixed(2)}</li>`;
        });
      } else {
        productsHTML += '<li>ูุง ุชูุฌุฏ ููุชุฌุงุช ูุณุฌูุฉ</li>';
      }
      productsHTML += '</ul>';

      const card = document.createElement('div');
      card.className = 'order-card';
      card.innerHTML = `
        <h3>ุชูุงุตูู ุงูุทูุจูุฉ</h3>
        <p>ุนุฏุฏ ุงูููุชุฌุงุช: ${order.count}</p>
        ${productsHTML}
        <p>ููุน ุงูุชูุตูู: ${order.type}${order.type === 'delivery' ? ` (โช${order.deliveryPrice})` : ''}</p>
        <p>ุงููุฌููุน: โช${parseFloat(order.total).toFixed(2)}</p>
        <p class="status">ุงูุญุงูุฉ: ${order.status}<span class="emoji">${emoji}</span></p>
      `;
      container.appendChild(card);
    });
  }, err => {
    console.error("ุฎุทุฃ ุจุฌูุจ ุงูุทูุจูุงุช:", err);
    container.innerHTML = '<p>ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูุทูุจูุงุช.</p>';
  });
}



// ุงุณุชุฏุนุงุก loadOrders ุนูุฏ ุงูุถุบุท ุนูู ุชุจููุจ "ุงูุทูุจูุงุช"
document.getElementById('tabOrdersBtn').addEventListener('click', () => {
  loadOrders();
});







    /* ------------------ ุชุณุฌูู ุงูุฎุฑูุฌ ------------------ */
    function logout() {
      localStorage.clear();
      window.location.href = "index.html";
    }

// ====== ุจูุงูุงุช ูุฆุงุช ุฎุทุฉ ุงูุนูู ======
const workPlanCategories = {
  male: [
    "ูุนุงูุฌุงุช ูุณูุฑูู ูููุฌู","ูุฑุทุจุงุช ููุฑููุงุช ูููุฌู","ุงูุจุดุฑุฉ ูุงููุฌู",
    "ููุชุฌุงุช ุงูุญูุงูุฉ ููุฑุฌุงู","ููุชุฌุงุช ุงูุนูุงูุฉ ููุฑุฌุงู","ูุฒููุงุช ุนุฑู ููุฑุฌุงู",
    "ุนุทูุฑ","ุนุทูุฑ ููุฑุฌุงู","ุชุตููู ุงูุดุนุฑ","ุบุณููุงุช","ุณูุฑูู ูุฒููุช ููุดุนุฑ",
    "ุดุงูุจู","ุงูุนูุงูุฉ ุจุงูุดุนุฑ","ุงูููุงูุฉ ูู ุงูุดูุณ ูุงูุชุณููุฑ","ุงูุนูุงูุฉ ุจุงูุฃุณูุงู",
    "ุงูุนูุงูุฉ ุจุงููู"
  ],
  female: [
    "ุงูุนูุงูุฉ ุจุงูุฌุณู","ูุฑุทุจ ููุฌุณู","ุงูุจุดุฑุฉ ูุงููุฌู","ูุฑุทุจุงุช ููุฑููุงุช ูููุฌู",
    "ูุนุทุฑ ููุฌุณู","ููุดุฑุงุช ููููุนุงุช ุงูุฌุณู","ูุณุชูุฒูุงุช ุงูุนูุงูุฉ ุงูุดุฎุตูุฉ",
    "ูุนุงูุฌุงุช ูุณูุฑูู ูููุฌู","ููุชุฌุงุช ุชูุดูุฑ ุงูุฌุณู","ุชูุชูุญ","ุนุทูุฑ ูููุณุงุก","ุนุทูุฑ",
    "ุงูุนูุงูุฉ ุจุงููุฏู","ุงููุธุงูุฉ ุงูุดุฎุตูุฉ ูููุณุงุก","ุตุงุจูู ุงุณุชุญูุงู","ุงูุนูุงูุฉ ุจุงููุฏูู",
    "ุฃููุนุฉ ุงููุฌู","ุงููุฌู","ุงูููุงูุฉ ูู ุงูุดูุณ ูุงูุชุณููุฑ",
    "ุงูุนูุงูุฉ ุจุงูุฃุณูุงู","ุงูุนูุงูุฉ ุจุงููู","ุฅุฒุงูุฉ ุงูุดุนุฑ",
    "ุงูุนูุงูุฉ ุจุงูุญูุงูู ูุงููุฑุถุนุฉ","ูุฒููุงุช ุนุฑู ูููุณุงุก"
  ]
};


// ====== ูก) ุฅูุดุงุก shuffle ุซุงุจุช ููู ููุธู ุญุณุจ ุงุณูู ูุฌูุณู ======
function getEmployeeOrder(gender) {
  // ูก. ุฅุญุถุงุฑ ูุตูููุฉ ุงููุฆุงุช
  const cats = [...workPlanCategories[gender]];
  // ูข. ุจูุงุก seed ูู ุงุณู ุงูููุธู ูุงูุฌูุณ
  let seed = 0;
  for (let i = 0; i < employeeName.length; i++) {
    seed = (seed * 31 + employeeName.charCodeAt(i)) % 2147483647;
  }
  seed = (seed + (gender === 'male' ? 1 : 2)) % 2147483647;
  // ูฃ. LCG ูุชูููุฏ ุฃุฑูุงู ุนุดูุงุฆูุฉ
  let rnd = seed;
  function next() {
    rnd = (rnd * 16807) % 2147483647;
    return (rnd - 1) / 2147483646;
  }
  // ูค. FisherโYates shuffle
  for (let i = cats.length - 1; i > 0; i--) {
    const j = Math.floor(next() * (i + 1));
    [cats[i], cats[j]] = [cats[j], cats[i]];
  }
  return cats;
}

// ====== ูข) ุงุฎุชูุงุฑ ุงููุฆุฉ ููููู ุงูุญุงูู ูู ุงููุงุฆูุฉ ุงููุงููุฉ ======
function getCategoryForToday(gender) {
  const order = getEmployeeOrder(gender);
  // ุญุณุงุจ ุนุฏุฏ ุงูุฃูุงู ููุฐ 1 ููุงูุฑ 1970
  const daysSinceEpoch = Math.floor(Date.now() / (1000 * 60 * 60 * 24));
  // ุงูููุถุน ูู ุงููุงุฆูุฉ
  const idx = daysSinceEpoch % order.length;
  return order[idx];
}

// ====== ูฃ) ุนุฑุถ ูุฆุฉ ุงูููู ููุท ======
function showPlan(gender) {
  const listEl = document.getElementById('productList');
  listEl.innerHTML = '';
  const todayCat = getCategoryForToday(gender);
  const li = document.createElement('li');
  li.textContent = todayCat;
  listEl.appendChild(li);
  document.getElementById('planContent').style.display = 'block';
}



// ุญูุธ ุงูุฌูุณ ูู Firestore ูุนุฑุถ ุงูุฎุทุฉ
// ====== ุฏุงูุฉ setGender ุงูุฌุฏูุฏุฉ ุจุงุณุชุฎุฏุงู Realtime Database ======
function setGender(gender) {
  console.log("setGender called with:", gender);
  // ุฅุฎูุงุก ูุงุฌูุฉ ุงูุณุคุงู
  document.getElementById('genderPrompt').style.display = 'none';
  // ุนุฑุถ ุงูุฎุทุฉ ููุฑุงู
  showPlan(gender);

  // ุชุญุฏูุซ ูุฆุฉ gender ูู ุงููRealtime Database
  database.ref('employees')
    .orderByChild('name')
    .equalTo(employeeName)
    .once('value')
    .then(snapshot => {
      snapshot.forEach(child => {
        // child.key ูู ุงูู ID ููู ููุธู
        database.ref('employees/' + child.key)
          .update({ gender: gender })
          .then(() => console.log("Gender saved to Realtime DB"))
          .catch(err => console.error("Error saving gender:", err));
      });
    })
    .catch(err => console.error("Error querying employees:", err));
}





// ุนูุฏ ุงูุถุบุท ุนูู ุชุจููุจ โุฎุทุฉ ุงูุนููโ (Realtime DB)
document.getElementById('tabWorkPlanBtn').addEventListener('click', () => {
  database.ref('employees')
    .orderByChild('name')
    .equalTo(employeeName)
    .once('value')
    .then(snapshot => {
      let gender = null;
      snapshot.forEach(child => { gender = child.val().gender; });
      if (gender) {
        document.getElementById('genderPrompt').style.display = 'none';
        showPlan(gender);
      } else {
        document.getElementById('genderPrompt').style.display = 'block';
        document.getElementById('planContent').style.display = 'none';
      }
    })
    .catch(err => console.error("Error fetching gender:", err));
});




  </script>
</body>
</html>
